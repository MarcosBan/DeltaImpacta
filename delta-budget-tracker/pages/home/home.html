<!DOCTYPE html>
<meta charset="UTF-8">
<html>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <link rel="stylesheet" href="../../global.css" />
    <link rel="stylesheet" href="../../sidebar.css">
    <link rel="stylesheet" href="./home.css">

    <script src="../../services/transaction.service.js"></script>
    <script src="./home.js"></script>

    <head>
        <title>Home - Delta Budget Tracker</title>
    </head>
    <header>
        <h1>Dashboard</h1>
    </header>
    <body>
        <!--sidebar-->
        <div class="navigation sidebar-open">
            <div class="menuToggle"></div>
            <ul>
                <li class="list" style="--clr:#606DE3">
                    <a href="#" onclick="delayed_home()">
                        <span class="icon"><ion-icon name="home-outline"></ion-icon></span>
                        <span class="text">Home</span>
                    </a>
                </li>
                <li class="list" style="--clr:#606DE3">
                    <a href="#" onclick="delayed_income()">
                        <span class="icon"><ion-icon name="caret-back-circle-outline"></ion-icon></span>
                        <span class="text">Entradas</span>
                    </a>
                </li>
                <li class="list" style="--clr:#606DE3">
                    <a href="#" onclick="delayed_outcome()">
                        <span class="icon"><ion-icon name="caret-forward-circle-outline"></ion-icon></span>
                        <span class="text">Despesas</span>
                    </a>
                </li>
                <li class="list " style="--clr:#606DE3">
                    <a href="#" onclick="delayed_expenses()">
                        <span class="icon"><ion-icon name="wallet-outline"></ion-icon></span>
                        <span class="text">Transações</span>
                    </a>
                </li>
                <li class="list" style="--clr:#606DE3">
                    <a href="#" onclick="delayed_user()">
                        <span class="icon"><ion-icon name="person-circle-outline"></ion-icon></span>
                        <span class="text">Usuário</span>
                    </a>
                </li>
                <li class="list" style="--clr:#606DE3">
                    <a href="#" onclick="delayed_logout()">
                        <span class="icon"><ion-icon name="log-out-outline"></ion-icon></span>
                        <span class="text">Sair</span>
                    </a>
                </li>
            </ul>
        </div>
        <!--page-->
        <main>
        <div class="graph-1">
        <canvas id="despesas_tipo"></canvas>

        <script>
            var xValues = getxValues();
            var yValues = getyValues();
            var barColors = [
                "#00aba9",
                "#f44336"
            ];

            new Chart("despesas_tipo", {
                type: "doughnut",
                data: {
                    labels: xValues,
                    datasets: [{
                        backgroundColor: barColors,
                        data: yValues
                    }]
                },
                options: {
                    title: {
                        display: true,
                        text: "Total de Despesas por Tipo"
                    }
                }
            });
        </script>
        </div>
        <div class="graph-2">
            <canvas id="myChart2"></canvas>
    
            <script>
                new Chart("myChart2", {
                    type: 'bar',
                    data: getBarDataValor(),
                    options: {
                        responsive: true,
                        plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: 'Chart.js Bar Chart'
                        }
                        }
                    },
                    });
            </script>
            </div>
            <div class="graph-3">
                <canvas id="myChart3"></canvas>
        
                <script>
                    var xValues = getxValuesByCategory();
                    var yValues = getyValuesByCategory();
                    var barColors = [
                        "#32a852",
                        "#989c51",
                        "#6753b5",
                        "#c23091",
                        "#30c2bf",
                        "#131936",
                        "#361613"
                    ];
        
                    new Chart("myChart3", {
                        type: "pie",
                        data: {
                            labels: xValues,
                            datasets: [{
                                backgroundColor: barColors,
                                data: yValues
                            }]
                        },
                        options: {
                            title: {
                                display: true,
                                text: "Despesas por Categoria"
                            }
                        }
                    });
                </script>
        </div>
        <div class="graph-4">
            <canvas id="myChart4"></canvas>
    
            <script>
                var xValues = getxValuesByValue();
                var yValues = getyValuesByValue();
                var barColors = [
                    "#ff461f",
                    "#0a5f42",
                    "#6fa8dc",
                    "#302061",
                    "#866846"
                ];
    
                new Chart("myChart4", {
                    type: "pie",
                    data: {
                        labels: xValues,
                        datasets: [{
                            backgroundColor: barColors,
                            data: yValues
                        }]
                    },
                    options: {
                        title: {
                            display: true,
                            text: "Despesas por Valor"
                        }
                    }
                });
            </script>
            </div>
        </main>
        <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
        <script src="../../sidebar.js"></script>
        
            
        <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-auth-compat.js"></script>
        <script src="../../firebase-init.js"></script>

    </body>

    </html>